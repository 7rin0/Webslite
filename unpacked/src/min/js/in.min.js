var getImages,validateElement,findDescription,loadImages,replaceThumbs,setDimensions,getWebslite;jQuery(document).ready(function(a){getImages=function(){var b,c=a("a, img, noscript"),d=(c.length,[]);c.each(function(c){b=validateElement(a(this)),b&&d.push(b)}).ready(function(){loadImages(d)}),a("#webslider").delay(1e3).fadeIn(1e3)},validateElement=function(b){b.is("noscript")&&(b=a(b.text()));var c,d,e,f,g,h;if(b.is("a"))f=b.attr("href"),e=b.text(),c=f?f.search(/ (jpg|png|svg|gif)/gi):-1;else{if(!b.is("img"))return null;f=b.attr("src"),e=b.attr("alt"),c=f?1:-1}var i=f?f.search(/ (svg|mmpub|banner)/gi):-1;if(f&&-1==i)return f=replaceThumbs(f),e||(e=findDescription(b)),g=b.closest("a"),g=g.attr("href"),g||(g=f),d=-1!=c&&b&&f&&e&&g,d?h={alt:e,url:f,blink:g}:null},findDescription=function(b){var c=b.parent().text().length>10?b.parent().text():b.parent().parent().text(),d=a("title").text();return c.length<1&&(c=d),c=a.trim(c)},loadImages=function(b){a(b).each(function(){var b=this,c=a("<img>").attr({src:b.url,alt:b.alt,"data-caption":b.alt,title:b.blink});c.on("load",function(){a(this).attr("width",this.naturalWidth),a(this).attr("height",this.naturalHeight);var b=this.naturalWidth>120&&this.naturalHeight>120;b&&a("#fotorama").append(a(this))})}).ready(function(){a("#fotorama").fotorama()})},replaceThumbs=function(b){-1!=b.indexOf("thumbs/thumbs_")&&(b=b.replace("thumbs/thumbs_",""));var c=b.split("&");if(c[1]){var d=!1;a.each(c,function(a,b){var e=b.indexOf("W=")>=0,f=b.indexOf("H=")>=0,g=e||f;g&&(d=!0,c[a]=setDimensions(b,2))}),d&&(b=a.trim(c.join("&")))}return b},setDimensions=function(a,b){var c=a.split("="),d=c[0],e=c[1];return d+"="+e*b},getWebslite=function(b){var c=a("body");c.css("overflow","hidden"),c.prepend('<div id="document_slider"><div id="webslider"><div id="fotorama" data-auto="false" data-arrows="true" data-width="100%"  data-keyboard="true"  data-ratio="16/9"  data-nav="thumbs"> </div></div></div>'),a("#document_slider").prepend('<div id="circleG"><div id="circleG_1" class="circleG"></div><div id="circleG_2" class="circleG"></div><div id="circleG_3" class="circleG"></div></div>').fadeIn(5e3),b=1e5>b?b:1e5,c.animate({scrollTop:b},1e4,function(){getImages(),c.addClass("slide")})}});